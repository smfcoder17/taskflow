<div class="bg-card-dark border border-border-dark-strong rounded-2xl p-6 shadow-lg mb-6">
  <div class="flex items-center gap-4 mb-4">
    <div class="p-3 rounded-xl bg-primary/10 text-primary">
      <span class="material-symbols-outlined">calendar_month</span>
    </div>
    <h3 class="text-text-dark-secondary text-sm font-medium">Activity Heatmap</h3>
  </div>

  <div class="heatmap-grid">
    @for (day of heatmapData(); track day.date) {
    <div
      class="heatmap-cell bg-primary"
      [style.opacity]="day.completionRate > 0 ? day.completionRate / 100 : 0.1"
      [class.empty]="day.completionRate === 0"
      [title]="day.date + ': ' + day.completedCount + '/' + day.totalScheduled + ' habits'"
    ></div>
    }
  </div>

  <div class="flex items-center justify-end gap-2 mt-4 text-xs text-text-dark-tertiary">
    <span>Less</span>
    <div class="flex gap-1">
      <div class="w-3 h-3 rounded-sm bg-primary" style="opacity: 0.1"></div>
      <div class="w-3 h-3 rounded-sm bg-primary" style="opacity: 0.3"></div>
      <div class="w-3 h-3 rounded-sm bg-primary" style="opacity: 0.6"></div>
      <div class="w-3 h-3 rounded-sm bg-primary" style="opacity: 0.9"></div>
    </div>
    <span>More</span>
  </div>
</div>
