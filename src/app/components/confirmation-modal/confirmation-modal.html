@if (isOpen()) {
<div
  class="modal-backdrop fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm"
  (click)="onBackdropClick($event)"
>
  <div
    class="modal-content w-full max-w-md mx-4 bg-card-dark border border-border-dark rounded-xl shadow-2xl animate-in fade-in zoom-in-95 duration-200"
    role="dialog"
    aria-modal="true"
  >
    <!-- Header -->
    <div class="p-6 border-b border-border-dark">
      <h2 class="text-xl font-semibold text-text-dark-primary">{{ title() }}</h2>
    </div>

    <!-- Body -->
    <div class="p-6">
      <p class="text-text-dark-secondary">{{ message() }}</p>

      <!-- Typed confirmation input -->
      @if (requireTypedConfirmation()) {
      <div class="mt-4">
        <label class="block text-sm text-text-dark-secondary mb-2">
          Type <span class="font-mono font-bold text-red-400">{{ confirmationWord() }}</span> to confirm:
        </label>
        <input
          type="text"
          [ngModel]="typedInput()"
          (ngModelChange)="typedInput.set($event)"
          class="w-full px-4 py-2 bg-background-dark border border-border-dark rounded-lg text-text-dark-primary focus:outline-none focus:border-primary"
          [placeholder]="confirmationWord()"
        />
      </div>
      }
    </div>

    <!-- Footer -->
    <div class="flex justify-end gap-3 p-6 border-t border-border-dark">
      <button
        type="button"
        class="px-4 py-2 text-text-dark-secondary hover:text-text-dark-primary transition-colors"
        (click)="onCancel()"
      >
        {{ cancelText() }}
      </button>
      <button
        type="button"
        class="px-4 py-2 rounded-lg text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
        [ngClass]="confirmClass()"
        [disabled]="!canConfirm()"
        (click)="onConfirm()"
      >
        {{ confirmText() }}
      </button>
    </div>
  </div>
</div>
}
